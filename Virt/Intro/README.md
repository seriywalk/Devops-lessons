# Домашнее задание к занятию "1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

`Основное отличие типов виртуализации друг от друга в степени оптимизации использования аппаратных ресурсов: ядер процессора, ОЗУ.
Полная (аппаратная) виртуализация, когда гипервизор устанавливается на "голое" железо и максимально использует ресурсы сервера.
При паравиртуализации, на физический сервер сначала устанавливается гипервизор как приложение и уже потом на нем разворачивают виртуальные машины. Таким образом между гипервизором и виртуальной машиной появляется прослойка в виде хостовой ОС, что конечно влияет на производительность ВМ.
Виртуализация на основе ОС или контейнеризация, может использоваться внутри операционной системы и позволяет изолировать приложения друг от друга.`   

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

* физические сервера,
* паравиртуализация,
* виртуализация уровня ОС.

Условия использования:

* Высоконагруженная база данных, чувствительная к отказу.
* Различные web-приложения.
* Windows системы для использования бухгалтерским отделом.
* Системы, выполняющие высокопроизводительные расчеты на GPU.

|   Организация  | Условия                                                                                                                   | Основание                                                                                                                                                                                                                                                                                                                  |
|-----|---------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  физические сервера  | Системы, выполняющие высокопроизводительные расчеты на GPU                                                                | Графические процессоры не очень хорошо работают в виртуальной среде, поэтому есть смысл использовать такие системы на физическом сервере                                                                                                                                                                                   |
|   паравиртуализация  | 1. Высоконагруженная база данных, чувствительная к отказу<br/>2. Windows системы для использования бухгалтерским отделом. | 1. База данных требует ресурсы процессора и ОЗУ, в случае дефицита ресурсов гипервизор позволяет увеличить количество ядер и размер ОЗУ без остановки сервера.<br/>2. Бухгалтерские программы нуждаются в системе резервного копирования, а резервировать и развертывать из копии виртуальные машины проще чем физические. |
|  виртуализация уровня ОС   | Различные web-приложения                                                                                                  | Развертывать веб-приложения проще на одной операционной системе с использованием контейнеров.                                                                                                                                                                                                                              |

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

`С Windows based инфраструктурой по понятным причинам теоретически должен хорошо справиться Hyper-V. В нашей компании все работает на  VMWare vSphere.`
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

`Среди бесплатных наиболее производительным и простым в использовании пожалуй Proxmox. Поддерживает любые ОС (Linux, *BSD, Windows и другие) с минимальными потерями производительности.`

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

`Hyper-V Server 2019, максимально совместим c Windows гостевыми ОС, бесплатен. Однако по информации Microsoft он имеет ограниченный жизенный цикл, который заканчивается в 2029 году.`

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

`Linux Container Daemon (LXD) - виртуализация ОС, инструмент для создания полноценных легковесных ВМ. Виртуализация LXD позволяет запускать больше полноценных ОС на одном оборудовании, не затрачивая ресурсы типичные для запуска традиционных VM (оперативная память, процессор, адаптер и т.д.). Таким образом, обеспечивается значительная производительность и экономия в долгосрочной перспективе.`
## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

`
Возможные проблемы и недостатки гетерогенной среды виртуализации:
сложность администрирования нескольких систем (проблемы с миграцией, обеспечением отказоустойчивости, мониторинга), необходимо иметь специалистов с соответствующими компетенциями, сниженые возможности масштабирования, если гипервизоры платные, увеличивает стоимость владения
Что необходимо сделать для минимизации этих рисков и проблем? 
Рассмотреть возможность перехода на единую систему виртуализации. Автоматизировать развертывание и тестирование инфраструктуры, чтобы снизить участие персонала. Отдать администрирование не критичных систем на аутсорс. Повышать уровень компетенций своих специалистов.
Если бы был выбор, я бы не создавал гетерогенную среду. Единой системой удобнее управлять, легче планировать модернизацию и ремонт. Универсальные специалисты, которые умеют работать в разных системах большая редкость и удержать в организации таких намного сложнее.`